(this.webpackJsonpshopApp2=this.webpackJsonpshopApp2||[]).push([[0],{106:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(26),u=n.n(a),o=(n(79),n(7)),i=n(19),s=n(123),l=n(71),j=n.n(l),b=n(64),p=n.n(b),d=n(1);var h=function(e){var t=e.children;return Object(d.jsx)("div",{className:p.a.container,children:t})},O=n(12),f=n(15),x=n(69),v=n.n(x),m=n(70),y=n.n(m),g=n(52),w=n.n(g),C=n(65),k=n.n(C),_=n(5),S=(n(86),{name:"",count:"",imageUrl:"/",width:"",height:"",weight:"",comments:""});var q=function(e){var t=e.onSubmit,n=e.onClose,c=Object(r.useState)(Object(f.a)({},S)),a=Object(o.a)(c,2),u=a[0],i=a[1],l=function(e){var t=e.target,n=t.name,r=t.value;i(Object(f.a)(Object(f.a)({},u),{},Object(_.a)({},n,r)))},j=u.name,b=u.count,p=u.width,h=u.height,O=u.weight,x=u.comments;return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(Object(f.a)({},u)),i(Object(f.a)({},S))},children:[Object(d.jsxs)("label",{children:["Name",Object(d.jsx)("input",{type:"text",name:"name",value:j,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["count",Object(d.jsx)("input",{type:"text",name:"count",value:b,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["width",Object(d.jsx)("input",{type:"text",name:"width",value:p,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["height",Object(d.jsx)("input",{type:"text",name:"height",value:h,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["weight",Object(d.jsx)("input",{type:"text",name:"weight",value:O,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["comments",Object(d.jsx)("input",{type:"textarea",name:"comments",value:x,onChange:l,required:!0})]}),Object(d.jsx)(s.a,{style:{marginTop:"10px"},variant:"contained",type:"submit",children:"Add product"}),Object(d.jsx)(s.a,{style:{marginTop:"10px"},variant:"contained",type:"button",onClick:n,children:"Close"})]})},E=n(8),B=n.n(E),I=n(18),M=n(23),P=n(30),T=n.n(P);function W(){return L.apply(this,arguments)}function L(){return(L=Object(I.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/products");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return V.apply(this,arguments)}function V(){return(V=Object(I.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.delete("/products/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return U.apply(this,arguments)}function U(){return(U=Object(I.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/products",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return R.apply(this,arguments)}function R(){return(R=Object(I.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/products/".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return J.apply(this,arguments)}function J(){return(J=Object(I.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.patch("/products/".concat(t.id),t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}T.a.defaults.baseURL="http://localhost:3000";var G=Object(M.b)("product/get",function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,W();case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(M.b)("product/delete",function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,N(t);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Y=Object(M.b)("product/add",function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,A(t);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),z=Object(M.b)("product/getId",function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,D(t);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),K=Object(M.b)("product/edit",function(){var e=Object(I.a)(B.a.mark((function e(t,n){var r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,F(t);case 4:return c=e.sent,e.abrupt("return",c);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Q=document.querySelector("#modal-root");var X=function(e){var t=e.onClose,n=Object(i.b)();Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(a.createPortal)(Object(d.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)(q,{onSubmit:function(e){n(Y(e))},onClose:t})}),Q)},Z=n(68),$=n.n(Z);n(106);var ee=function(e){var t=e.onClose,n=e.product,c=Object(r.useState)(Object(f.a)({},n)),a=Object(o.a)(c,2),u=a[0],i=a[1];Object(r.useEffect)((function(){i(Object(f.a)({},n))}),[n]);var l=function(e){var t=e.target,r=t.name,c=t.value;i(Object(f.a)(Object(f.a)({},n),{},Object(_.a)({},r,c)))},j=u.name,b=u.count,p=u.width,h=u.height,O=u.weight,x=u.comments;return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F(u),t()},children:[Object(d.jsxs)("label",{children:["Name",Object(d.jsx)("input",{type:"text",name:"name",value:j,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["count",Object(d.jsx)("input",{type:"text",name:"count",value:b,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["width",Object(d.jsx)("input",{type:"text",name:"width",value:p,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["height",Object(d.jsx)("input",{type:"text",name:"height",value:h,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["weight",Object(d.jsx)("input",{type:"text",name:"weight",value:O,onChange:l,required:!0})]}),Object(d.jsxs)("label",{children:["comments",Object(d.jsx)("input",{type:"textarea",name:"comments",value:x,onChange:l,required:!0})]}),Object(d.jsx)(s.a,{style:{marginTop:"10px"},variant:"contained",type:"submit",children:"Confirm"}),Object(d.jsx)(s.a,{style:{marginTop:"10px"},variant:"contained",type:"button",onClick:t,children:"Close"})]})},te=document.querySelector("#modal-root2");var ne=function(e){var t=e.onClose,n=e.product,c=Object(i.b)();Object(r.useEffect)((function(){return window.addEventListener("keydown",u),function(){window.removeEventListener("keydown",u)}}));var u=function(e){"Escape"===e.code&&t()};return Object(a.createPortal)(Object(d.jsx)("div",{className:$.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)(ee,{onSubmit:function(e){c(Y(e))},onClose:t,product:n})}),te)},re={name:"",count:"",imageUrl:"/",width:"",height:"",weight:"",comments:""},ce=function(e){var t=e.products,n=e.deleteProd,c=Object(r.useState)(!1),a=Object(o.a)(c,2),u=a[0],l=a[1],j=Object(r.useState)(!1),b=Object(o.a)(j,2),p=b[0],h=b[1],x=Object(r.useState)(Object(f.a)({},re)),m=Object(o.a)(x,2),g=m[0],C=m[1],k=Object(r.useState)("name"),_=Object(o.a)(k,2),S=_[0],q=_[1],E=Object(i.b)(),B=Object(O.a)(t);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("p",{children:"Sort"}),Object(d.jsxs)("select",{onChange:function(e){return q(e.target.value)},children:[Object(d.jsx)("option",{value:"name",children:"by name"}),Object(d.jsx)("option",{name:"count",value:"count",children:"by count"})]})]}),Object(d.jsxs)("ul",{children:[t&&B.sort((function(e,t){return"name"===S?e.name.localeCompare(t.name):e.count-t.count})).map((function(e){return Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{src:"https://picsum.photos/400",alt:"christmas"}),Object(d.jsx)("h3",{children:e.name}),Object(d.jsxs)("div",{className:w.a.BoxInfo,children:[Object(d.jsxs)("p",{children:["Count: ",e.count]}),Object(d.jsxs)("p",{children:["Width: ",e.width]}),Object(d.jsxs)("p",{children:["Height: ",e.height]}),Object(d.jsxs)("p",{children:["Weight: ",e.weight]})]}),Object(d.jsxs)("div",{className:w.a.BoxBtn,children:[Object(d.jsx)(s.a,{variant:"contained",type:"button",startIcon:Object(d.jsx)(v.a,{}),onClick:function(){return n(e.id)},children:"Delete"}),Object(d.jsx)(s.a,{variant:"contained",type:"button",startIcon:Object(d.jsx)(y.a,{}),onClick:function(){D(e.id).then((function(e){return C(Object(f.a)({},e))})).then(h(!0))},children:"Edit"})]})]},e.id)})),u&&Object(d.jsx)(X,{onClose:function(){l(!1)}}),p&&Object(d.jsx)(ne,{onClose:function(){h(!1),C(Object(f.a)({},re)),E(G())},product:g})]})]})},ae=function(e){return e.products.items};var ue,oe=function(){var e=Object(i.c)(ae),t=Object(i.b)(),n=Object(r.useState)(!1),c=Object(o.a)(n,2),a=c[0],u=c[1];return Object(r.useEffect)((function(){return t(G())}),[t]),Object(d.jsxs)(h,{children:[Object(d.jsx)("h2",{children:"Products"}),Object(d.jsx)(s.a,{variant:"contained",type:"button",startIcon:Object(d.jsx)(j.a,{}),onClick:function(){u(!a)},children:"Add product"}),Object(d.jsx)(ce,{products:e,deleteProd:function(e){t(H(e)).then((function(){t(G())}))}}),a&&Object(d.jsx)(X,{onClose:function(){u(!1)}})]})},ie=n(22),se=Object(M.c)([],(ue={},Object(_.a)(ue,G.fulfilled,(function(e,t){return t.payload})),Object(_.a)(ue,Y.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(O.a)(e),[n])})),Object(_.a)(ue,H.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),Object(_.a)(ue,z.fulfilled,(function(e,t){return t.payload})),Object(_.a)(ue,K.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(O.a)(e),[n])})),ue)),le=Object(ie.b)({items:se}),je=Object(M.a)({reducer:{products:le},devTools:!1,middleware:function(e){return Object(O.a)(e())}});u.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(i.a,{store:je,children:Object(d.jsx)(oe,{})})}),document.getElementById("root"))},52:function(e,t,n){e.exports={BoxInfo:"ProductsList_BoxInfo__3YUar",BoxBtn:"ProductsList_BoxBtn__2lf3G"}},64:function(e,t,n){e.exports={container:"Container_container__1dtWB"}},65:function(e,t,n){e.exports={Overlay:"Modal_Overlay__T6FnR",Modal:"Modal_Modal__1bVkh"}},68:function(e,t,n){e.exports={Overlay:"Modal_Overlay__IoC2P",Modal:"Modal_Modal__32cRq"}},79:function(e,t,n){},86:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.29c4f25c.chunk.js.map